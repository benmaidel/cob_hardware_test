<?xml version="1.0"?>
<launch>
	<arg name="robot" value="fdm"/>

	<arg name="can_device" default="can0"/>
	<arg name="pkg_hardware_config" default="$(find cob_test_rigs)"/>
	<arg name="sim" default="false"/>

	<arg name="driver_yaml" value="$(arg pkg_hardware_config)/robots/fdm/base_driver.yaml"/>
	<arg name="controller_yaml" value="$(arg pkg_hardware_config)/robots/fdm/base_controller.yaml"/>

	<!-- upload robot_description -->
    <param name="robot_description" command="$(find xacro)/xacro --inorder '$(find cob_hardware_config)/robots/cob4-3/urdf/cob4-3.urdf.xacro'" />

	<!-- start robot_state_publisher -->
	<node pkg="robot_state_publisher" type="state_publisher" name="robot_state_publisher"/>

	<include file="$(find cob_bringup)/components/ros_control_base.launch">
		<arg name="robot" value="$(arg robot)"/>
		<arg name="pkg_hardware_config" value="$(arg pkg_hardware_config)"/>
		<arg name="driver_yaml" value="$(arg driver_yaml)"/>
		<arg name="controller_yaml" value="$(arg controller_yaml)"/>

		<arg name="can_device" value="$(arg can_device)"/>

		<arg name="sim" value="$(arg sim)"/>
	</include>
</launch>
