<?xml version="1.0"?>
<launch>

    <include file="$(find realsense_camera)/launch/zr300_nodelet_rgbd.launch">
        <arg name="camera" value="sensorring_cam3d"/>
        <arg name="num_worker_threads" value="2" />
        <arg name="serial_no" value=""/>
    </include>

    <!-- start rviz with configuration -->
    <node pkg="rviz" type="rviz" name="$(anon rviz)" args="-d $(find cob_devices_test)/config/Inbetriebnahme.rviz" respawn="false" output="screen" />

    <node pkg="tf2_ros" type="static_transform_publisher" name="base_frame" args="0.0 0.0 0.0 0.0 0.0 0.0 1.0 /base_link /sensorring_cam3d_link"/>
    <!-- static frames broadcasted by camera driver -->
    <node pkg="tf2_ros" type="static_transform_publisher" name="stp_rgb_frame" args="0.0 0.0 0.0 0.0 0.0 0.0 1.0 /sensorring_cam3d_link /sensorring_cam3d_rgb_frame"/>
    <node pkg="tf2_ros" type="static_transform_publisher" name="stp_rgb_optical_frame" args="0.0 0.0 0.0 -0.5 0.5 -0.5 0.5 /sensorring_cam3d_rgb_frame /sensorring_cam3d_rgb_optical_frame"/>

    <node pkg="tf2_ros" type="static_transform_publisher" name="stp_depth_frame" args="0.0 0.059 0.0 0.0 0.0 0.0 1.0 /sensorring_cam3d_link /sensorring_cam3d_depth_frame"/>
    <node pkg="tf2_ros" type="static_transform_publisher" name="stp_depth_optical_frame" args="0.0 0.0 0.0 -0.5 0.5 -0.5 0.5 /sensorring_cam3d_depth_frame /sensorring_cam3d_depth_optical_frame"/>

    <!-- realsense_camera currently has an issue with frame prefixing for ir, ir2, imu and fisheye (see https://github.com/intel-ros/realsense/issues/258) -->
    <node pkg="tf2_ros" type="static_transform_publisher" name="stp_ir_frame" args="0.0 0.059 0.0 0.0 0.0 0.0 1.0 /sensorring_cam3d_link /sensorring_cam3d_ir_frame"/>
    <node pkg="tf2_ros" type="static_transform_publisher" name="stp_ir_optical_frame" args="0.0 0.0 0.0 -0.5 0.5 -0.5 0.5 /sensorring_cam3d_ir_frame /sensorring_cam3d_ir_optical_frame"/>

    <node pkg="tf2_ros" type="static_transform_publisher" name="stp_ir2_frame" args="0.0 -0.011 0.0 0.0 0.0 0.0 1.0 /sensorring_cam3d_link /sensorring_cam3d_ir2_frame"/>
    <node pkg="tf2_ros" type="static_transform_publisher" name="stp_ir2_optical_frame" args="0.0 0.0 0.0 -0.5 0.5 -0.5 0.5 /sensorring_cam3d_ir2_frame /sensorring_cam3d_ir2_optical_frame"/>

    <node pkg="tf2_ros" type="static_transform_publisher" name="stp_imu_frame" args="0.0 0.070 0.0 0.0 0.0 0.0 1.0 /sensorring_cam3d_link /sensorring_cam3d_imu_frame"/>
    <node pkg="tf2_ros" type="static_transform_publisher" name="stp_imu_optical_frame" args="0.0 0.0 0.0 -0.5 0.5 -0.5 0.5 /sensorring_cam3d_imu_frame /sensorring_cam3d_imu_optical_frame"/>

    <node pkg="tf2_ros" type="static_transform_publisher" name="stp_fisheye_frame" args="0.0 0.088 0.0 0.0 0.0 0.0 1.0 /sensorring_cam3d_link /sensorring_cam3d_fisheye_frame"/>
    <node pkg="tf2_ros" type="static_transform_publisher" name="stp_fisheye_optical_frame" args="0.0 0.0 0.0 -0.5 0.5 -0.5 0.5 /sensorring_cam3d_fisheye_frame /sensorring_cam3d_fisheye_optical_frame"/>


</launch>
